---
const { canvaName } = Astro.props;
---

<script>
  import { Application } from "@splinetool/runtime";

  import { gsap } from "gsap";

  const canvas = document.getElementById("model1") as HTMLCanvasElement;
  const spline = new Application(canvas, { renderMode: "continuous" });
  const botonModal1 = document.getElementById("Boton1") as HTMLButtonElement;
  let mouseX = 0;
  // let mouseXLimited = 0;

  let mouseY = 0;
  // let mouseYLimited = 0;

  spline
    .load("https://draft.spline.design/iyypGw4xR5-3PnXh/scene.splinecode") //Link de Desarrollo
    .then(() => {
      const escena = spline.findObjectByName("scene");
      const Plataform = spline.findObjectByName("Plataform");
      if (Plataform && escena) {
        // escena.visible= false;
        gsap.set(escena.position, {
          x: 50,
          y: 0,
          z: 0,
        });
        gsap.set(escena.scale, {
          onComplete: () => {
            gsap.to(escena.scale, {
              x: 0.85,
              y: 0.85,
              z: 0.85,
              duration: 1.5,
              ease: "none",
            });
          },
        });

        gsap.to(Plataform.rotation, {
          y: Math.PI * 4,
          repeat: -1,
          duration: 8,
          ease: "none",
        });

        // Hover of scene 
        botonModal1.addEventListener("mouseover", () => {
          gsap.set(escena.scale, {
            onComplete: () => {
              gsap.to(escena.scale, {
                x: 1,
                y: 1,
                z: 1,
                duration: 0.2,
                ease: "none",
              });
            },
          });
        });
        botonModal1.addEventListener("mouseout", () => {
          gsap.set(escena.scale, {
            onComplete: () => {
              gsap.to(escena.scale, {
                x: 0.85,
                y: 0.85,
                z: 0.85,
                duration: 0.2,
                ease: "none",
              });
            },
          });
        });

        
      }
    });
</script>

<canvas id="model1" class="max-w-full max-h-full pointer-events-auto"></canvas>
